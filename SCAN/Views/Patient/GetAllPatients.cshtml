@using SCAN.Enums;
@model IEnumerable<PatientVM>
@{
    ViewData["Title"] = "GetAllPatients";
}
<div class="container">
	<h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Form/</span> All patients</h4>
	<hr />
	<h5 class="mb-4">
		<a class="float-end d-inline" asp-action="CreateAppointment" asp-controller="Patient">
			<button id="addRow" class="btn btn-dark mb-4"><i class="bi bi-person-fill-add me-1"></i> Create Appointment</button>
		</a>
	</h5>

	<table id="employees" class="table table-striped table-bordered dt-responsive nowrap" style="color: black; margin-top: 15px">
		<thead>
			<tr class="fw-bold">
				<th class="text-center">First Name</th>
				<th class="text-center">Last Name</th>
				<th class="text-center">Arabic Name</th>
				<th class="text-center">Address</th>
				<th class="text-center">phone</th>
				<th class="text-center">Gender</th>
				<th class="text-center">Reference</th>
				<th class="text-center">Type of Check</th>
				<th class="text-center">Date of Appointmnet</th>
				<th class="text-center">Action</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model)
			{
				<tr>
					<td>@item.FirstName</td>
					<td>@item.LastName</td>
					<td class="text-center">@(item.ArabicFirstName + " " + item.ArabicLastName)</td>
					<td>@(item.City + "_" + item.Government)</td>
					<td>@item.Phone</td>
					<td>@item.Gender</td>
					<td>@Enum.GetName(typeof(References),item.ReferenceID)</td>
					<td>@Enum.GetName(typeof(CheckType),item.CheckTypeID)</td>
					<td class="text-center">@item.DateofAppointment?.ToString("yyyy-MM-dd")</td>
					<td>
						<a class="badge bg-label-success me-1" ><i class="bi bi-pencil-square"></i> </a>
						<a class="badge bg-label-primary me-1" ><i class="bi bi-eye"></i></a>
						<a class="badge bg-label-danger me-1" onclick="confirmDelete()"><i class="bi bi-trash"> </i></a>
					</td>
				</tr>
			}
		</tbody>
	</table>
	<br />
	<br />
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

@section Scripts{
	<script>
		function confirmDelete() {
			var confirmMsg = confirm("Are you sure you want to Delete this Employee?!");
			if (!confirmMsg) {
				event.preventDefault();
			}

		}
	</script>

	<script src="~/lib/datatables/js/jquery.dataTables.js"></script>
	<script src="~/lib/datatables/js/dataTables.bootstrap4.js"></script>

}


